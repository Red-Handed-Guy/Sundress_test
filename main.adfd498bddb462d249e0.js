(()=>{"use strict";var e,t,r,n={270:(e,t,r)=>{var n,a=r(848),s=r(540),i=r(338),o=r(468),c=r(879),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},d=(0,c.Z0)({name:"savedCards",initialState:{savedCards:[],isLoading:!1,isSucces:!1,isError:!1,textError:""},reducers:{setInitialCards:function(e,t){var r=t.payload.data.map((function(e){return{id:e.id,img:e.image.url,isLiked:!1,name:e.nameRU,description:e.description}}));localStorage.setItem("savedCards",JSON.stringify(r)),e.savedCards=r},setSavedCards:function(e,t){e.savedCards=t.payload.data},deleteCard:function(e,t){var r=e.savedCards.filter((function(e){return e.id!==t.payload.id}));e.savedCards=r,localStorage.setItem("savedCards",JSON.stringify(r))},toggleCardLike:function(e,t){var r=e.savedCards.map((function(e){return e.id===t.payload.id?l(l({},e),{isLiked:!e.isLiked}):e}));e.savedCards=r,localStorage.setItem("savedCards",JSON.stringify(r))},setIsLoading:function(e,t){e.isLoading=t.payload.state},setIsSucces:function(e,t){e.isSucces=t.payload.state},setIsError:function(e,t){e.isError=t.payload.state},setTextError:function(e,t){e.textError=t.payload.err}}}),u=(n=d.actions).deleteCard,f=n.setInitialCards,p=n.setSavedCards,v=n.toggleCardLike,h=n.setIsError,m=n.setIsLoading,g=n.setIsSucces,x=n.setTextError;const b=d.reducer;var j=(0,c.U1)({reducer:{savedCardsSlice:b}}),y=r(976),C=r(266),w="https://api.nomoreparties.co",O=function(e){return t=void 0,r=void 0,a=function(){var t,r,n;return function(e,t){var r,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(a){switch(a.label){case 0:e(h({state:!1})),e(g({state:!1})),e(m({state:!0})),e(x({err:""})),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,C.A)({method:"GET",url:"https://api.nomoreparties.co/beatfilm-movies"})];case 2:return t=a.sent(),e(f({data:t.data})),e(g({state:!0})),[3,5];case 3:return r=a.sent(),e(h({state:!0})),n=r.toJSON(),e(x({err:n.message})),[3,5];case 4:return e(m({state:!1})),[7];case 5:return[2]}}))},new((n=void 0)||(n=Promise))((function(e,s){function i(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}c((a=a.apply(t,r||[])).next())}));var t,r,n,a},S=o.wA,N=o.d4,k=r(767);const E="pQcrsqik";var L;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}const P=function(e){return s.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"current",viewBox:"0 0 22 19"},e),L||(L=s.createElement("path",{fillRule:"evenodd",d:"M20.3 1.682c2.267 2.22 2.267 5.861 0 8.104L10.98 19 1.684 9.808A5.75 5.75 0 0 1 0 5.745C0 4.213.584 2.77 1.684 1.682 3.93-.561 7.612-.561 9.88 1.704l1.1 1.088 1.1-1.11c2.269-2.243 5.951-2.243 8.22 0",clipRule:"evenodd"})))};var _;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}const M=function(e){return s.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"current",viewBox:"0 0 22 19"},e),_||(_=s.createElement("path",{fillRule:"evenodd",d:"M19.244 2.748a4.36 4.36 0 0 0-6.104-.004l-2.149 2.168-2.17-2.147C7.133 1.082 4.4 1.09 2.743 2.743l-.005.006A4.16 4.16 0 0 0 1.5 5.745a4.25 4.25 0 0 0 1.245 3.002l8.235 8.143 8.264-8.17c1.678-1.66 1.67-4.337.006-5.966zM10.98 19 1.684 9.808A5.75 5.75 0 0 1 0 5.745C0 4.213.584 2.77 1.684 1.682 3.93-.561 7.612-.561 9.88 1.704l1.1 1.088 1.1-1.11c2.269-2.243 5.951-2.243 8.22 0 2.267 2.22 2.267 5.861 0 8.104z",clipRule:"evenodd"})))};var A;function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}const B=function(e){return s.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 18 20"},e),A||(A=s.createElement("path",{fill:"#fff",d:"M2.458 18.142c.06.67.61 1.158 1.28 1.158H14.26c.67 0 1.22-.508 1.28-1.158L16.72 5.79H1.28zM16.72 1.93h-5.14v-.65C11.58.569 11.011 0 10.3 0H7.72C7.01 0 6.44.569 6.44 1.28v.65H1.28C.569 1.93 0 2.499 0 3.21s.569 1.28 1.28 1.28h15.44c.711 0 1.28-.569 1.28-1.28s-.569-1.28-1.28-1.28"})))},K=function(e){var t=e.cardData,r=t.img,n=t.isLiked,s=t.name,i=t.id,o=(0,k.Zp)(),c=S();return(0,a.jsxs)("article",{className:"PKV0IALZ",children:[(0,a.jsx)("button",{onClick:function(){c(u({id:i}))},type:"button",className:"f4tbrbnX",children:(0,a.jsx)(B,{className:"RZEDlpiW"})}),(0,a.jsx)("div",{className:"_5QlyFjW",children:(0,a.jsx)("img",{src:w+r,alt:s,className:"nZLMA928",onClick:function(){o("/".concat(i))}})}),(0,a.jsxs)("div",{className:"FTeq6Lxp",children:[(0,a.jsx)("h2",{className:"BLhNYgys",children:s}),(0,a.jsx)("button",{type:"button",onClick:function(){c(v({id:i}))},className:"lpbrq8De",children:n?(0,a.jsx)(P,{className:E}):(0,a.jsx)(M,{className:E})})]})]})},R=function(e){var t=e.handleToggleCheckbox,r=e.searchCheckbox;return(0,a.jsxs)("div",{className:"raVbkbyi",children:[(0,a.jsxs)("label",{className:"ux1xx1uX",children:[(0,a.jsx)("input",{checked:r,onChange:t,className:"c3Ros3pZ",type:"checkbox"}),(0,a.jsx)("span",{className:"XjWAmDsY"})]}),(0,a.jsx)(P,{})]})},Y=function(e){var t=e.onClick,r=e.text,n=e.disabled;return(0,a.jsx)("button",{disabled:n,className:"".concat("sNS8Y5Ii"," ").concat(n&&"lKThlKpY"),onClick:t,children:(0,a.jsx)("p",{className:"seKXS_rL",children:r})})},H=function(){return(0,a.jsx)("div",{className:"pgYSCywj",children:(0,a.jsx)("div",{className:"h49YSSyd",children:(0,a.jsx)("span",{className:"t4X5wmNZ"})})})};var X=(0,y.Ge)([{path:"/",element:(0,a.jsx)((function(){var e=S();return(0,s.useEffect)((function(){e(h({state:!1}));var t=JSON.parse(localStorage.getItem("savedCards"));null!==t?(e(p({data:t})),e(g({state:!0}))):O(e)}),[]),(0,a.jsx)("main",{className:"XgHir4h8",children:(0,a.jsx)(k.sv,{})})}),{}),children:[{path:"",element:(0,a.jsx)((function(){var e=N((function(e){return e.savedCardsSlice.savedCards})),t=N((function(e){return e.savedCardsSlice})),r=(0,s.useState)(!1),n=r[0],i=r[1],o=S(),c=n?e.filter((function(e){return e.isLiked})):e;return(0,a.jsxs)("section",{className:"ZPYzvV41","aria-label":"Галерея",children:[(0,a.jsx)(Y,{disabled:!1,text:"Загрузить карточки заново",onClick:function(){localStorage.clear,O(o)}}),(0,a.jsx)(R,{handleToggleCheckbox:function(){i(!n)},searchCheckbox:n}),t.isLoading&&(0,a.jsx)(H,{}),t.isError&&(0,a.jsx)("p",{style:{textAlign:"center"},children:t.textError}),t.isSucces&&(0,a.jsx)("div",{className:"zVSUhh2E",children:null==c?void 0:c.map((function(e){return(0,a.jsx)(K,{cardData:e},e.id)}))})]})}),{})},{path:":card",element:(0,a.jsx)((function(){var e=(0,k.g)(),t=N((function(e){return e.savedCardsSlice.savedCards})),r=(0,s.useState)(null),n=r[0],i=r[1];return(0,s.useEffect)((function(){var r=t.filter((function(t){return t.id===+e.card}));1===r.length&&i(r[0])}),[e.card,t]),(0,a.jsxs)("section",{className:"QSQsSu6c",children:[(0,a.jsx)(y.N_,{className:"O_Cn7iTa",to:"/",children:"Назад"}),(0,a.jsx)("img",{src:w+(null==n?void 0:n.img),alt:null==n?void 0:n.name,className:"ITrgFMLo"}),(0,a.jsx)("h1",{className:"BeAKBLwP",children:null==n?void 0:n.name}),(0,a.jsx)("p",{className:"KsyNjkga",children:null==n?void 0:n.description})]})}),{})}]}]),z=document.getElementById("root");if(!z)throw new Error("root not found");(0,i.H)(z).render((0,a.jsx)(s.StrictMode,{children:(0,a.jsx)(o.Kq,{store:j,children:(0,a.jsx)(y.pg,{router:X})})}))}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.m=n,e=[],s.O=(t,r,n,a)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,n,a]=e[d],o=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(s.O).every((e=>s.O[e](r[c])))?r.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,n,a]},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var i={};t=t||[null,r({}),r([]),r(r)];for(var o=2&n&&e;"object"==typeof o&&!~t.indexOf(o);o=r(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,s.d(a,i),a},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[i,o,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var d=c(s)}for(t&&t(r);l<i.length;l++)a=i[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},r=self.webpackChunksundress_test=self.webpackChunksundress_test||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=s.O(void 0,[826],(()=>s(270)));i=s.O(i)})();